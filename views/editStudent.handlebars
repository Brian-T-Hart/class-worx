    {{!-- This page is to edit student information --}}

<body>
    <!-- Navbar -->
    <nav class="fixed-top navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" id="home-button" href="/dashboard">Home</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    {{!-- <li class="nav-item active">
                        <a class="nav-link" href="/students">Students
                            <span class="sr-only">(current)</span>
                        </a>
                    </li> --}}
                    <li class="nav-item">
                        <a class="nav-link" href="#">{{classes.0.teacher.teacher_userName}}</a>
                    </li>
                    <li id="logoff">
                        <a class="nav-link" href="/account/logout">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <br>

    <div class="container">
        <div class="jumbotron">
            <div class="row">
                <div class="col-7">
                    <h1>Edit Student Info</h1>
                </div>
                <div class="col-4">
                    <a href="#" id="upload_widget_opener">
                    <img id="studentImage" src="{{classes.0.schedules.0.student.student_image}}" style="width: auto; height: 80px; float: right;"
                /></a>
                </div>
            </div>
            <form action="/editStudent/{{classes.0.class_id}}/{{classes.0.schedules.0.student.student_id}}" method="POST">
                <div class="form-row">
                    <div class="form-group col-4">
                        <select class="selectpicker" class="form-control" name="classPicker" id="classPicker" required>
                            <option value=''>Select Class:</option>
                            <option value="{{classes.0.class_id}}" selected> Period: {{classes.0.class_period}} Class Name:{{classes.0.class_name}}</option>
                            {{#each class}}
                            <option value={{this.class_id}}>Period: {{this.class_period}} Class Name:{{this.class_name}}</option>
                            {{/each}}
                        </select>
                    </div>
                    <div class="form-group col-3">
                        <select class="selectpicker" class="form-control" name="selectGrade" id="selectGrade" required>
                            <option value=''>Select Grade</option>
                            <option value="{{classes.0.schedules.0.student.student_gradeLevel}}" selected>{{classes.0.schedules.0.student.student_gradeLevel}}</option>
                            <option value="K">K</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9 Freshman</option>
                            <option value="10">10 Sophmore</option>
                            <option value="11">11 Junior</option>
                            <option value="12">12 Senior</option>
                        </select>
                    </div>
                    <div class="form-group col-2">
                        <select class="selectpicker" class="form-control" name="selectGender" id="selectGender" required>
                            <option value=''>Gender</option>
                            <option value="{{classes.0.schedules.0.student.student_gender}}" selected>{{classes.0.schedules.0.student.student_gender}}</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>
                    <div class="form-group col-3">
                        <label for="inputStudentImage" class="col-form-label"></label>
                        <input type="hidden" value="{{classes.0.schedules.0.student.student_image}}" class="form-control" name="inputStudentImage"
                            id="inputStudentImage" placeholder="image url" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-6">
                        <label for="inputStudentFirstName" class="col-form-label">First Name: </label>
                        <input value="{{classes.0.schedules.0.student.student_firstName}}" type="text" class="form-control" name="inputStudentFirstName" id="inputStudentFirstName" placeholder="First Name"
                            required>
                    </div>
                    <div class="form-group col-6">
                        <label for="inputStudentLastName" class="col-form-label">Last Name: </label>
                        <input type="text" value="{{classes.0.schedules.0.student.student_lastName}}" class="form-control" name="inputStudentLastName" id="inputStudentLastName" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-6">
                        <label for="inputStudentEmail" class="col-form-label">Email (optional): </label>
                        <input value="{{classes.0.schedules.0.student.student_email}}" type="email" class="form-control" name="inputStudentEmail" id="inputStudentEmail" placeholder="student@email.com">
                    </div>
                    <div class="form-group col-6">
                        <label for="inputStudentPhone" class="col-form-label">Phone (optional): </label>
                        <input value="{{classes.0.schedules.0.student.student_phone}}" type="text" class="form-control" name="inputStudentPhone" id="inputStudentPhone" placeholder="555-555-5555">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-4">
                        <label for="inputStudentScore" class="col-form-label">Score: </label>
                        <input value="{{classes.0.schedules.0.student.student_score}}" type="number" class="form-control" name="inputStudentScore" id="inputStudentScore" placeholder="student score"
                            required>
                    </div>
                    <div class="form-group col-4">
                        <label for="inputStudentHallPass" class="col-form-label">Hall Passes: </label>
                        <input value="{{classes.0.schedules.0.student.student_hallPass}}" type="text" class="form-control" name="inputStudentHallPass" id="inputStudentHallPass" placeholder="Hall Passes">
                    </div>
                    <div class="form-group col-4">
                        <label for="inputStudentHomeworkPass" class="col-form-label">HW Passes: </label>
                        <input value="{{classes.0.schedules.0.student.student_homeworkPass}}" type="number" class="form-control" name="inputStudentHomeworkPass" id="inputStudentHomeworkPass" placeholder="Homework Passes">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-4">
                        <input type="checkbox" name="studentActive" value="false"> Archive Student<br>
                    </div>
                </div>
                <button action="#" type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>

<script src="//widget.cloudinary.com/global/all.js" type="text/javascript"></script>
<script type="text/javascript">
    var secure_url;

    document.getElementById("upload_widget_opener").addEventListener("click", function () {
        cloudinary.openUploadWidget({
            cloud_name: 'dfonttj4w',
            upload_preset: 'firv62ul',
            sources: ['local', 'url', 'facebook', 'instagram', 'dropbox', 'google_photos'],
        },
            function (error, result) {
                if (error) {
                    console.log('error ', error)
                }
                else {
                    console.log('result[0].secure_url ', result[0].secure_url);
                    secure_url = result[0].secure_url;
                    document.getElementById("studentImage").setAttribute("src", secure_url);
                    document.getElementById("inputStudentImage").setAttribute("value", secure_url);
                }
            })
    }, false);

</script>
</body>